### PRD 0050D: UI Layer & Tracking

**Overview**: Add UI layer to visualize workflow (banners/tabs for ownership/context tracking) on `/admin/ai_workflow`; integrate gem runner outputs for real-time visibility. Ties to vision for transparent family-office governance.

**Requirements**:
1) **UI Setup**: Controller `Admin::AiWorkflowController` with index (Tailwind tabs: “Ownership”, “Context”, “Logs”); broadcast updates via Turbo if Epic 4.5 complete.
2) **Tracking Visualization**: Banner for “Ball with: X”; tab renders context hash (e.g., `feedback_history` as list); logs from `agent_logs/`.
3) **Integration**: Rake/console outputs sync to UI via gem callbacks (e.g., `after_handoff: update_ui`).
4) **Read-only v1**: UI is read-only in v1:
   - displays current `ball_with`, `state`, and recent events
   - no “resolve click” (interactive actions are v2 once auth/audit is fully specified)
5) **Data Source**: Read from (priority order):
   1) DB `AiWorkflowRun` (if introduced)
   2) file artifacts under `agent_logs/ai_workflow/<correlation_id>/run.json` and `events.ndjson`
6) **Non-Functional**: UI loads <1s initial render; admin-only; responsive with DaisyUI; chunk/paginate logs.
7) **Rails Guidance**: Use ViewComponent for tabs/banners; avoid new models unless persistence is already introduced by 0050A.

**Architectural Context**: Builds on Epic 4.5 chat base; local-only; RAG in context for UI renders.

**Acceptance Criteria**:
- Load `/admin/ai_workflow` → tabs show current ownership/context/logs.
- Handoff → UI banner updates in real-time.
- Read-only v1: No interactive resolve actions.
- Empty state: “No active workflow” banner.
- Mobile: Tabs stack vertically.

**Test Cases**:
- Unit: MiniTest for components (render asserts).
- Integration: MiniTest/VCR for UI flow (Capybara optional; assert banner text post-handoff). Edge: No workflow → empty; auth fail → 403.

**Workflow**: Junie: Pull from main, `git checkout -b feature/prd-50d-ui-tracking`. Read `<project root>/knowledge_base/prds/prds-junie-log/junie-log-requirement.md` for logging. Ask questions (e.g., “Turbo integration details?”) and build a plan in `junie-log.md` before coding. Use Claude Sonnet 4.5 default in RubyMine. Implement, test, commit green. Push for review.
